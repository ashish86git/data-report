<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DWM Opening Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #faa5a5;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .form-container {
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 900px;
        }
        h2 {
            text-align: center;
            color: #333333;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            color: #4d52d6;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #cccccc;
            border-radius: 4px;
            font-size: 14px;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #007bff;
            outline: none;
        }
        textarea {
            resize: none;
            height: 85px;
        }
        button {
            background-color: #007bff;
            color: #ffffff;
            border: none;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .grid {
            display: flex;
            gap: 20px;
        }
        .grid .form-group {
            flex: 1;
        }
        @media (max-width: 768px) {
            .grid {
                flex-direction: column;
            }
        }


         .grid-3 {
             display: grid;
             grid-template-columns: repeat(3, 1fr);
             gap: 10px;
             margin-bottom: 10px;
         }


        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .grid-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        label {
            white-space: nowrap;
            flex-shrink: 0; /* Label ko ek jagah par fix rakhega */
            width: 200px; /* Sab labels ko ek jaisa width milega, zaroorat ho toh adjust kar sakte ho */
        }

        input {
            flex: 1;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .submit-btn {
            background-color: #007BFF; /* Blue color */
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            display: block;
            width: 100%;
            text-align: center;
        }

        .submit-btn:hover {
            background-color: #0056b3; /* Darker blue on hover */
            transform: scale(1.05);
        }

        .submit-btn:active {
            background-color: #003f7f;
            transform: scale(0.98);
        }

        .grid-item label {
            display: block; /* ensures it takes full width */
            white-space: normal; /* allows text to wrap */
            word-wrap: break-word; /* breaks long words if needed */
        }





    </style>
</head>
<body>
    <div class="form-container">
        <h2>DWM Opening Form</h2>
        <form action="#" method="POST">
            <!-- Location and Customer -->
            <div class="grid">
                <div class="form-group">
                    <label for="location">Location</label>
                    <select id="location" name="Location" required>
                        <option value="" disabled selected>Select Location</option>
                        <option value="Gurgaon">Gurgaon</option>
                        <option value="Hyderabad">Hyderabad</option>
                        <option value="Mumbai">Mumbai</option>
                        <option value="Surat">Surat</option>
                        <option value="Alwar">Alwar</option>
                        <option value="Lucknow">Lucknow</option>
<!--                        <option value="Lucknow">Lucknow</option>-->
                    </select>
                </div>
                <div class="form-group">
                    <label for="customer">Customer</label>
                    <select id="customer" name="Customer" required>
                        <option value="" disabled selected>Select Customer</option>
                        <option value="Eshop Box">Eshop Box</option>
                        <option value="Kothari">Kothari</option>
                        <option value="Condor">Condor</option>
                        <option value="Spario">Spario</option>
                        <option value="My Window">My Window</option>
                        <option value="Ashok laylend">Ashok laylend</option>
                        <option value="Eveready">Eveready</option>

                    </select>
                </div>
            </div>

            <!-- Basic Information -->
            <div class="grid">
                <div class="form-group">
                    <label for="email">Employee Email</label>
                    <input type="email" id="email" name="Email" placeholder="Enter Employee Email" required>
                </div>
                <div class="form-group">
                    <label for="name">Employee Name</label>
                    <input type="text" id="name" name="Name" placeholder="Enter Employee Name" required>
                </div>
                <div class="form-group">
                    <label for="id">Employee ID</label>
                    <input type="text" id="id" name="Employee ID" placeholder="Enter Employee ID">
                </div>
            </div>

            <div class="grid">
                <div class="form-group">
                    <label for="start_time">Start Time</label>
                    <input type="datetime-local" id="start_time" name="Start Time" required>
                </div>
                <div class="form-group">
                    <label for="completion_time">Completion Time</label>
                    <input type="datetime-local" id="completion_time" name="Completion Time" required>
                </div>
                <div class="form-group">
                    <label for="date">Date</label>
                    <input type="date" id="date" name="Date" required>
                </div>
            </div>


            <div class="grid">
                <div class="form-group">
                    <label for="pendency">Pendency</label>
                    <select id="pendency" name="Pendency" required onchange="togglePendencyFields()">
                        <option value="" disabled selected>Select Pendency</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="shift_type">Shift</label>
                    <select id="shift_type" name="Shift" required>
                        <option value="" disabled selected>Select Shift</option>
                        <option value="morning">Morning</option>
                        <option value="afternoon">Afternoon</option>
                        <option value="night">Night</option>
                    </select>
                </div>
            </div>

            <!-- Additional Fields (Hidden by Default) -->
            <!-- Additional Fields (Hidden by Default) -->
            <div id="pendencyFields" style="display: none;">
                <div class="grid-3">
                    <div>
                        <label for="grn_qty">GRN Qty:</label>
                        <input type="number" id="grn_qty" name="GRN Qty_pendency">
                    </div>
                    <div>
                        <label for="stn_qty">STN Qty:</label>
                        <input type="number" id="stn_qty" name="STN Qty_pendency">
                    </div>
                    <div>
                        <label for="putaway_cancel_qty">Putaway Cancel Qty:</label>
                        <input type="number" id="putaway_cancel_qty" name="Putaway Cancel Qty_pendency">
                    </div>
                </div>
                <div class="grid-3">
                    <div>
                        <label for="putaway_return_qty">Putaway Return Qty:</label>
                        <input type="number" id="putaway_return_qty" name="Putaway Return Qty_pendency">
                    </div>
                    <div>
                        <label for="grn_sellable_qty">GRN Sellable Qty:</label>
                        <input type="number" id="grn_sellable_qty" name="GRN Sellable Qty_pendency">
                    </div>
                    <div>
                        <label for="bin_movement">Bin Movement:</label>
                        <input type="number" id="bin_movement" name="Bin Movement_pendency">
                    </div>
                </div>
                <div class="grid-3">
                    <div>
                        <label for="return">Return:</label>
                        <input type="number" id="return" name="Return_pendency">
                    </div>
                    <div>
                        <label for="rtv">RTV:</label>
                        <input type="number" id="rtv" name="RTV_pendency">
                    </div>
                    <div>
                        <label for="channel_order_qty_b2c">Channel Order Qty (B2C):</label>
                        <input type="number" id="channel_order_qty_b2c" name="Channel Order Qty (B2C)_pendency">
                    </div>
                </div>
                <div class="grid-3">
                    <div>
                        <label for="rts_order_qty_b2c">RTS Order Qty (B2C):</label>
                        <input type="number" id="rts_order_qty_b2c" name="RTS Order Qty (B2C)_pendency">
                    </div>
                    <div>
                        <label for="breached_qty">Breached Qty:</label>
                        <input type="number" id="breached_qty" name="Breached Qty_pendency">
                    </div>
                    <div>
                        <label for="side_lined">Side Lined:</label>
                        <input type="number" id="side_lined" name="Side Lined_pendency">
                    </div>
                </div>
                <div class="grid-3">
                    <div>
                        <label for="dispatch_not_marked">Dispatch Not Marked:</label>
                        <input type="number" id="dispatch_not_marked" name="Dispatch Not Marked">
                    </div>
                    <div>
                        <label for="not_dispatched_orders">Not Dispatched Orders:</label>
                        <input type="number" id="not_dispatched_orders" name="Not Dispatched Orders">
                    </div>
                </div>
            </div>




            <!-- Operational Information -->
            <div class="grid">
                <div class="form-group">
                    <label for="dwm_conducted_by_name">DWM Conducted By</label>
                    <input type="text" id="dwm_conducted_by_name" name="DWM Conducted By" placeholder="Enter Name">
                </div>
                <div class="form-group">
                    <label for="inward_name">Inward Name</label>
                    <input type="text" id="inward_name" name="Inward Name" placeholder="Enter Inward Name">
                </div>
            </div>
            <div class="grid">
                <div class="form-group">
                    <label for="inventory_name">Inventory Name</label>
                    <input type="text" id="inventory_name" name="Inventory Name" placeholder="Enter Inventory Name">
                </div>
                <div class="form-group">
                    <label for="outward_name">Outward Name</label>
                    <input type="text" id="outward_name" name="Outward Name" placeholder="Enter Outward Name">
                </div>
            </div>


            <div class="grid">
                <div class="form-group">
                    <label for="return_name">Return Name</label>
                    <input type="text" id="return_name" name="Return Name" placeholder="Return Name">
                </div>
                <div class="form-group">
                    <label for="claim_name">Claim Name</label>
                    <input type="text" id="claim_name" name="Claim Name" placeholder="Claim Name">
                </div>
                <div class="form-group">
                    <label for="gp_name">GP Name</label>
                    <input type="text" id="gp_name" name="GP Name" placeholder="GP Name">
                </div>
            </div>

            <div>
                <label for="no_of_floor_associated">No of Floor Associated:</label>
                <input type="number" id="no_of_floor_associated" name="No of Floor Associated" placeholder="No of Floor Associated">
            </div>
            <div class="grid-2">
                <div class="grid-item">
                    <label for="unloading_boxes">Unloading / Loading Boxes:</label>
                    <input type="number" id="unloading_boxes" name="Unloading / Loading Boxes" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="unloading_loading_boxes_manpower">Manpower:</label>
                    <input type="number" id="unloading_loading_boxes_manpower" name="Unloading / Loading Boxes Manpower" placeholder="Enter Manpower">
                </div>

                <div class="grid-item">
                    <label for="receipt_process_wms">Receipt Process in WMS:</label>
                    <input type="number" id="receipt_process_wms" name="Receipt Process in WMS (Boxes)" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="receipt_process_wms_manpower">Manpower:</label>
                    <input type="number" id="receipt_process_wms_manpower" name="Receipt Process in WMS (Boxes) Manpower" placeholder="Enter Manpower">
                </div>

                <div class="grid-item">
                    <label for="grn_qc">Qty. GRN & QC:</label>
                    <input type="number" id="grn_qc" name="Qty. GRN & QC" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="grn_qc_manpower">Manpower:</label>
                    <input type="number" id="grn_qc_manpower" name="Qty. GRN & QC Manpower" placeholder="Enter Manpower">
                </div>

                <div class="grid-item">
                    <label for="putaway">Qty - Good Putaway:</label>
                    <input type="number" id="putaway" name="Qty - Good Putaway" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="putaway_manpower">Manpower:</label>
                    <input type="number" id="putaway_manpower" name="Qty - Good Putaway Manpower" placeholder="Enter Manpower">
                </div>
            </div>

            <div class="grid-2">
                <div class="grid-item">
                    <label for="cycle_count">Qty - Cycle Count/Consolidation:</label>
                    <input type="number" id="cycle_count" name="Qty - Cycle Count/Consolidation" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="cycle_count_manpower">Manpower:</label>
                    <input type="number" id="cycle_count_manpower" name="Qty - Cycle Count/Consolidation Manpower" placeholder="Enter Manpower">
                </div>

                <div class="grid-item">
                    <label for="stn_direct_putaway">STN - Direct Putaway:</label>
                    <input type="number" id="stn_direct_putaway" name="STN - Direct Putaway" placeholder="Enter Qty">
                </div>
                <div class="grid-item">
                    <label for="stn_direct_putaway_manpower">Manpower:</label>
                    <input type="number" id="stn_direct_putaway_manpower" name="STN - Direct Putaway Manpower" placeholder="Enter Manpower">
                </div>
            </div>







            <!-- Picking and Packing Information -->
            <div class="grid-2">
                <div class="grid-item">
                    <label for="picked_qty_b2c">Qty. picked-B2C:</label>
                    <input type="number" id="picked_qty_b2c" name="Qty. picked-B2C" placeholder="Picked QTY. (B2C)">
                </div>
                <div class="grid-item">
                    <label for="picked_qty_b2c_manpower">Qty. picked-B2C Manpower:</label>
                    <input type="number" id="picked_qty_b2c_manpower" name="Qty. picked-B2C Manpower" placeholder="picked-B2C Manpower">
                </div>
                <div class="grid-item">
                    <label for="qty_invoiced_packed_b2c">QTY(Invoiced+Packed)B2C:</label>
                    <input type="number" id="qty_invoiced_packed_b2c" name="QTY(Invoiced+Packed)B2C" placeholder="QTY(Invoiced+Packed)B2C">
                </div>
                <div class="grid-item">
                    <label for="qty_invoiced_packed_b2c_manpower">(Invoiced+Packed)B2C Manpower:</label>
                    <input type="number" id="qty_invoiced_packed_b2c_manpower" name="QTY(Invoiced+Packed)B2C Manpower" placeholder="(Invoiced+Packed)B2C Manpower">
                </div>

            </div>
            <div class="grid-2">
                <div class="grid-item">
                    <label for="qty_manifest_handover_b2c">QTY.Manifest+Handover-B2C:</label>
                    <input type="number" id="qty_manifest_handover_b2c" name="QTY.Manifest+Handover-B2C" placeholder="QTY.Manifest+Handover-B2C">
                </div>
                <div class="grid-item">
                    <label for="qty_manifest_handover_b2c_manpower">Manifest+Handover-B2C Manpower:</label>
                    <input type="number" id="qty_manifest_handover_b2c_manpower" name="QTY.Manifest+Handover-B2C Manpower" placeholder="Manifest+Handover-B2C Manpower">
                </div>

            </div>
            <div class="grid-2">
                <div class="grid-item">
                    <label for="qty_invoiced_packed_b2b">QTY(Invoiced+Packed)B2B:</label>
                    <input type="number" id="qty_invoiced_packed_b2b" name="QTY(Invoiced+Packed)B2B" placeholder="QTY(Invoiced+Packed)B2B">
                </div>
                <div class="grid-item">
                    <label for="qty_invoiced_packed_b2b_manpower">(Invoiced+Packed)B2B Manpower:</label>
                    <input type="number" id="qty_invoiced_packed_b2b_manpower" name="QTY(Invoiced+Packed)B2B Manpower" placeholder="(Invoiced+Packed)B2B Manpower">
                </div>

            </div>
            <div class="grid-2">
                <div class="grid-item">
                    <label for="picked_qty_b2b">Picked QTY. (B2B):</label>
                    <input type="number" id="picked_qty_b2b" name="Picked QTY. (B2B)" placeholder="Picked QTY. (B2B)">
                </div>
                <div class="grid-item">
                    <label for="picked_qty_b2b_manpower">Picked (B2B) Manpower:</label>
                    <input type="number" id="picked_qty_b2b_manpower" name="Picked QTY. (B2B) Manpower" placeholder="Picked (B2B) Manpower">
                </div>
            </div>

            <!-- RTO (Return to Origin) Information -->
            <div class="grid-2">
                <div class="grid-item">
                    <label for="rto_received_qty_b2b_b2c">RTO Received QTY. (B2B/B2C):</label>
                    <input type="number" id="rto_received_qty_b2b_b2c" name="RTO Received QTY. (B2B/B2C)" placeholder="RTO Received QTY.(B2B/B2C)">
                </div>
                <div class="grid-item">
                    <label for="rto_received_qty_b2b_b2c_manpower">RTO Received (B2B/B2C) Manpower:</label>
                    <input type="number" id="rto_received_qty_b2b_b2c_manpower" name="RTO Received QTY. (B2B/B2C) Manpower" placeholder="RTO Received (B2B/B2C) Manpower">
                 </div>
                <div class="grid-item">
                    <label for="rto_putway">RTO Putway QTY.:</label>
                    <input type="number" id="rto_putway" name="RTO Putway QTY." placeholder="RTO Putway QTY">
                </div>
                <div class="grid-item">
                    <label for="rto_putway_manpower">RTO Putway Manpower:</label>
                    <input type="number" id="rto_putway_manpower" name="RTO Putway QTY. Manpower." placeholder="RTO Putway Manpower">
                </div>

                <div class="grid-item">
                    <label for="gp_creation_qcr">Qty. GP Creation QCR:</label>
                    <input type="number" id="gp_creation_qcr" name="Qty. GP Creation QCR" placeholder="Qty. GP Creation QCR">
                </div>
                <div class="grid-item">
                    <label for="gp_creation_qcr_manpower">GP Creation QCR Manpower:</label>
                    <input type="number" id="gp_creation_qcr_manpower" name="Qty. GP Creation QCR Manpower." placeholder="GP Creation QCR Manpower">
                </div>

                <div class="grid-item">
                    <label for="rto_good_processing_return">RTO Good processing return:</label>
                    <input type="number" id="rto_good_processing_return" name="RTO Good processing return" placeholder="RTO Good processing return">
                </div>
                <div class="grid-item">
                    <label for="rto_good_processing_return_manpower">RTO Good processing return Manpower:</label>
                    <input type="number" id="rto_good_processing_return_manpower" name="RTO Good processing return Manpower" placeholder="RTO Good processing return Manpower">
                </div>
<!--            </div>-->
                <div class="grid-item">
                    <label for="bad_processing_with_claim">Bad processing with claim:</label>
                    <input type="number" id="bad_processing_with_claim" name="Bad processing with claim" placeholder="Bad processing with claim">
                </div>
                <div class="grid-item">
                    <label for="bad_processing_with_claim_manpower">Bad processing with claim Manpower:</label>
                    <input type="number" id="bad_processing_with_claim_manpower" name="Bad processing with claim Manpower" placeholder="Bad processing with claim Manpower">
                </div>
            </div>

            <!-- Notes -->
            <div class="full-width">
                <label for="comments">Comments/Notes:</label>
                <textarea id="comments" name="Comments/Notes" rows="5"></textarea>
            </div>


    <!-- Continue with additional fields similarly -->


            <!-- Submit Button -->
            <button type="submit" class="submit-btn">Submit</button>

        </form>
        {% if message %}
        <div class="success-message">
            {{ message }}
        </div>
        {% endif %}

        {% if show_home_button %}
        <div class="home-button">
            <a href="{{ url_for('home') }}">
                <button>Go to Home</button>
            </a>
        </div>
        {% endif %}
    </div>
</body>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            {% if message %}
                alert("{{ message }}"); // Show alert message
                window.location.href = window.location.pathname; // Redirect to form after OK
            {% endif %}
        });
    </script>


    <script>
        function togglePendencyFields() {
            var pendency = document.getElementById("pendency").value;
            var fieldsDiv = document.getElementById("pendencyFields");

            if (pendency === "yes") {
                fieldsDiv.style.display = "block";
            } else {
                fieldsDiv.style.display = "none";
            }
        }
    </script>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Get input fields
            let startTimeInput = document.getElementById("start_time");
            let completionTimeInput = document.getElementById("completion_time");

            // Get current date and time
            let now = new Date();
            let minDate = new Date();
            let maxDate = new Date();

            // Set min and max date limits
            minDate.setDate(now.getDate() - 2); // 2 days before
            maxDate.setDate(now.getDate() + 2); // 2 days after

            // Convert to ISO format (YYYY-MM-DDTHH:MM)
            let formatDateTime = (date) => {
                return date.toISOString().slice(0, 16); // Keep only YYYY-MM-DDTHH:MM
            };

            // Set min and max attributes
            let minDateTime = formatDateTime(minDate);
            let maxDateTime = formatDateTime(maxDate);

            startTimeInput.setAttribute("min", minDateTime);
            startTimeInput.setAttribute("max", maxDateTime);

            completionTimeInput.setAttribute("min", minDateTime);
            completionTimeInput.setAttribute("max", maxDateTime);
        });


            document.addEventListener("DOMContentLoaded", function () {
            let dateInput = document.getElementById("date");

            // Get today's date in YYYY-MM-DD format
            let today = new Date().toISOString().split('T')[0];

            // Set min and max date to today
            dateInput.setAttribute("min", today);
            dateInput.setAttribute("max", today);

            // Auto-fill today's date
            dateInput.value = today;
        });

    </script>

</html>
